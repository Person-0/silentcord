<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SilentCord</title>
    <link rel="stylesheet" href="./assets/shared.css">
    <link rel="stylesheet" href="./assets/room.css">
    <script src="./js/alert.js"></script>
</head>

<body>
    <div id="navigation-header">
        <p id="app-title">SilentCord</p>

        <div class="navigation-btns">
            <button class="input-button" id="destroy-room-btn">Destroy Room</button>
            <button class="input-button" id="copy-room-btn">Copy Room URL</button>
        </div>
    </div>

    <div id="leftbar" class="bgdark">
        <div class="leftbar-btns">
            <button class="input-button leftbar-btn leftbar-btn-selected" onclick="showTab('c', ()=>selectLeftbarBtn(this));">
                <span class="material-symbols-outlined material-icon-icon">
                    chat
                </span>
            </button>
            <button class="input-button leftbar-btn" onclick="showTab('v', ()=>selectLeftbarBtn(this));">
                <span class="material-symbols-outlined material-icon-icon">
                    voice_chat
                </span>
            </button>
            <button class="input-button leftbar-btn" onclick="showTab('m', ()=>selectLeftbarBtn(this));">
                <span class="material-symbols-outlined material-icon-icon">
                    queue_music
                </span>
            </button>
        </div>
    </div>

    <div id="main-container-chat" tab-id="c" style="display: flex;" class="tabs">
        <div id="chat-container" class="bgdark"></div>
        <div id="chat-inputs-container">
            <input class="input-textbox" type="text" id="chat-input" placeholder="Enter message here...">
            <button class="input-button chatbox-btn" id="chat-attach-btn">
                <span class="material-symbols-outlined material-icon-icon">
                    attach_file_add
                </span>
            </button>
        </div>
    </div>

    <div id="main-container-voicechat" tab-id="v" style="display: none;" class="tabs">
        <div class="voice-wrapper">
            <div class="voice-header">
                <h2>Voice Channel</h2>
                <div id="voice-status" class="status-disconnected">Status: Disconnected</div>
            </div>

            <div id="voice-peers-list" class="voice-grid">
                </div>

            <div class="voice-controls-bar">
                <button id="join-voice-btn" class="control-btn btn-green">
                    <span class="material-symbols-outlined">call</span>
                    <span>Join Voice</span>
                </button>

                <div id="active-controls" style="display: none; gap: 15px;">
                    <button id="mute-btn" class="control-btn btn-secondary" title="Mute/Unmute">
                        <span class="material-symbols-outlined" id="mute-icon">mic</span>
                    </button>
                    
                    <button id="leave-voice-btn" class="control-btn btn-red">
                        <span class="material-symbols-outlined">call_end</span>
                        <span>Disconnect</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div id="connected-people-list-container">
        <p id="online-indicator">Online: <span id="online-indicator-value">0</span></p>
        <div class="separator-line"></div>
        <div id="connected-people-list">

        </div>
    </div>

    <script src="./js/room.js" type="module"></script>
</body>

</html>